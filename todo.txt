move logic back from View components to pages.